var dataMejannes = { 
    "type": "Feature", 
    "geometry": { 
        "coordinates": [
            [[4.138672938113163, 44.11593980155743], [4.14013212331291, 44.11474634516052], [4.140759064109746, 44.114421170928786], [4.142178909543692, 44.113948210365656], [4.142305959547322, 44.11399099314657], [4.144173442349151, 44.114841050034734], [4.146379559199131, 44.11649586360041], [4.147358539664388, 44.11782863478109], [4.148573317575956, 44.118707955006215], [4.149064654425288, 44.11847416803601], [4.153111130514165, 44.1161588029241], [4.154469913740501, 44.115327166732314], [4.158601322149902, 44.10941283017764], [4.161658913110774, 44.10656211503788], [4.165470308071345, 44.10417947522622], [4.170651117439391, 44.101160983213774], [4.17391549205098, 44.09984695764767], [4.174534551553057, 44.09970170157294], [4.173703682336997, 44.09908590787631], [4.165465156589448, 44.095146635722095], [4.161008436265115, 44.086196217513454], [4.160931854592436, 44.085747863560165], [4.1609091633669, 44.08506400434864], [4.15890721385777, 44.084872772026586], [4.156018946993008, 44.08469626139041], [4.155083010648814, 44.08466652907152], [4.153838988478769, 44.08477775428856], [4.153339639006964, 44.084785713471774], [4.151206754531687, 44.08441659367416], [4.149633308689917, 44.08398395443483], [4.149836788765564, 44.08447508921322], [4.149853940518022, 44.08501498657252], [4.149307438010891, 44.08979951331077], [4.147030795679519, 44.092715497895945], [4.144288443821599, 44.095154731107066], [4.139897253067063, 44.09872362897321], [4.137001581130775, 44.09989598681188], [4.135920312578756, 44.10041937838439], [4.134990465875532, 44.10114552135717], [4.134084248224501, 44.10199293012148], [4.132643598175933, 44.10354256182684], [4.128936072715603, 44.108077901812194], [4.129134461528714, 44.10844311375549], [4.129788897004952, 44.109377012326355], [4.130365713769011, 44.10986163922212], [4.132224190976483, 44.11140509447516], [4.138672938113163, 44.11593980155743]]
        ], 
        "type": "Polygon" 
    }, 
    "properties": { 
            "geo_point_2d": { "lon": 4.150807580818476, "lat": 44.1019942849614 }, 
            "id_geofla": "COMMUNE00000000000002968", 
            "code_com": "165", 
            "insee_com": "30165", 
            "nom_com": "MEJANNES-LES-ALES", 
            "statut": "Commune simple", 
            "x_chf_lieu": 792242, 
            "y_chf_lieu": 6333847, 
            "x_centroid": 792120, 
            "y_centroid": 6334500, 
            "z_moyen": 150, 
            "superficie": 660, 
            "population": 1147, 
            "code_cant": "04", 
            "code_arr": "1", 
            "code_dept": "30", 
            "nom_dept": "GARD", 
            "code_reg": "76", 
            "nom_reg": "LANGUEDOC-ROUSSILLON-MIDI-PYRENEES", 
            "nom_de_la_commune": "MEJANNES LES ALES", 
            "code_postal": "30340", 
            "ligne_5": null, 
            "libelle_d_acheminement": "MEJANNES LES ALES", 
            "coordonnees_gps": { "lon": 4.150962052, "lat": 44.101736556 } 
    } 
}

var dataMarkers = [
    ['SOCOM', 4.1466172, 44.09905939999999],
    ['Espace 242', 4.145350294968544, 44.10020147170098],
    ['CÃ©dric Senfas', 4.147345249357197, 44.09868519747506],
    ['Maxime', 4.14, 44.1135],
    ['Alessandro', 4.14, 44.1135],
    ['Suzan', 4.133, 44.1035],
    ['Ghislain', 4.137, 44.1037],
]

var lon = dataMejannes.properties.coordonnees_gps.lon
var lat = dataMejannes.properties.coordonnees_gps.lat

var map = L.map('map').setView([lat, lon], 13);

L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
    maxZoom: 19,
    attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
}).addTo(map);

var geojson = L.geoJson(dataMejannes).addTo(map);

var balMarkers = new L.MarkerClusterGroup({
    maxclusterRadius: 1
});

for (var i = 0; i < dataMarkers.length; i++) {
    var latLng = new L.LatLng(dataMarkers[i][2], dataMarkers[i][1]);
    var marker = new L.Marker(latLng, {title: dataMarkers[i][0]});
    marker.bindPopup(   '<h3>'+dataMarkers[i][0]+'</h3>' +
                        '<form><button type="submit" class="btn btn-primary">SUPPRIMER</button></form>')
    balMarkers.addLayer(marker);
}

map.addLayer(balMarkers);

var zoneTest = {
    "type": "Feature",
    "properties": {
        "name": "zone test"
    },
    "geometry": {
        "type": "Polygon",
        "coordinates": [
            [[4.138672938113163, 44.11593980155743], [4.14013212331291, 44.11474634516052], [4.140759064109746, 44.114421170928786], [4.142178909543692, 44.113948210365656], [4.142305959547322, 44.11399099314657], [4.144173442349151, 44.114841050034734], [4.146379559199131, 44.11649586360041], [4.147358539664388, 44.11782863478109], [4.148573317575956, 44.118707955006215], [4.149064654425288, 44.11847416803601], [4.153111130514165, 44.1161588029241], [4.154469913740501, 44.115327166732314], [4.158601322149902, 44.10941283017764], [4.161658913110774, 44.10656211503788]]
        ], 
    }
}
var styleTest = {
    "color": "#ffffff"
}
//var geoJsonTest = L.geoJSON(zoneTest, {style: styleTest}).addTo(map);

